[gd_scene load_steps=9 format=3 uid="uid://xsbfgrucribr"]

[ext_resource type="Script" path="res://Scripts/SpellCasting/SpellEffects/Ice/IceBoard.gd" id="1_77tb6"]
[ext_resource type="PackedScene" uid="uid://hjlf10hh02nj" path="res://Models/InteractiveLevelElements/IceChunk.blend" id="1_cunu2"]
[ext_resource type="Script" path="res://Scripts/Environment/Common/Floating.gd" id="3_aialk"]

[sub_resource type="PhysicsMaterial" id="PhysicsMaterial_08nup"]
friction = 0.0

[sub_resource type="Curve" id="Curve_nsm26"]
_data = [Vector2(0, 1), 0.0, 0.0, 0, 0, Vector2(0.770054, 0.824176), 0.0, 0.0, 0, 0, Vector2(1, 0), -6.16484, 0.0, 0, 0]
point_count = 3

[sub_resource type="TubeTrailMesh" id="TubeTrailMesh_v0mf2"]
radius = 1.31
sections = 8
section_length = 0.105
curve = SubResource("Curve_nsm26")

[sub_resource type="ConvexPolygonShape3D" id="ConvexPolygonShape3D_rwsrj"]
points = PackedVector3Array(-0.000256419, 0.42, -1.31, -0.000256419, 0.384973, -1.3082, -0.926335, 0.42, -0.926335, 0.926079, 0.42, -0.926335, 0.924796, 0.384973, -0.925053, 0.920949, 0.349945, -0.921206, -0.000256419, 0.349945, -1.30256, -0.921206, 0.349945, -0.921206, -0.925053, 0.384973, -0.925053, -1.3082, 0.384973, -0.000256419, -1.31, 0.42, -0.000256419, 1.30974, 0.42, -0.000256419, 1.30795, 0.384973, -0.000256419, 1.30231, 0.349945, -0.000256419, 0.914794, 0.315, -0.915051, -0.000256419, 0.315, -1.29384, -0.915051, 0.315, -0.915051, -1.30256, 0.349945, -0.000256419, -0.921206, 0.349945, 0.920949, -0.925053, 0.384973, 0.924796, -0.926335, 0.42, 0.926079, 0.926079, 0.42, 0.926079, 0.924796, 0.384973, 0.924796, 0.920949, 0.349945, 0.920949, 1.29359, 0.315, -0.000256419, 0.914794, 0.315, 0.914794, 0.906588, 0.279973, -0.906844, -0.000256419, 0.279973, -1.2823, 1.28205, 0.279973, -0.000256419, -0.906844, 0.279973, -0.906844, -1.2823, 0.279973, -0.000256419, -1.29384, 0.315, -0.000256419, -0.915051, 0.315, 0.914794, -0.000256419, 0.349945, 1.30231, -0.000256419, 0.384973, 1.30795, -0.000256419, 0.42, 1.30974, 0.906588, 0.279973, 0.906588, -0.000256419, 0.315, 1.29359, -0.000256419, 0.279973, 1.28205, 0.896842, 0.244945, -0.897099, -0.000256419, 0.244945, -1.26871, 1.26845, 0.244945, -0.000256419, -0.897099, 0.244945, -0.897099, -1.26871, 0.244945, -0.000256419, -0.906844, 0.279973, 0.906588, -0.000256419, 0.244945, 1.26845, 0.896842, 0.244945, 0.896842, 0.754507, -0.245027, -0.754763, -0.754763, -0.245027, -0.754763, -0.000256419, -0.245027, -1.06713, 0.754507, -0.245027, 0.754507, 1.06688, -0.245027, -0.000256419, -1.06713, -0.245027, -0.000256419, -0.754763, -0.245027, 0.754507, -0.897099, 0.244945, 0.896842, -0.000256419, -0.245027, 1.06688, 0.693469, -0.280055, -0.693725, -0.000256419, -0.280055, -0.980961, 0.980705, -0.280055, -0.000256419, -0.693725, -0.280055, -0.693725, -0.980961, -0.280055, -0.000256419, -0.000256419, -0.280055, 0.980705, 0.693469, -0.280055, 0.693469, -0.693725, -0.280055, 0.693469, 0.579857, -0.315, -0.580113, -0.000256419, -0.315, -0.820161, -0.580113, -0.315, -0.580113, 0.579857, -0.315, 0.579857, 0.819904, -0.315, -0.000256419, -0.820161, -0.315, -0.000256419, -0.580113, -0.315, 0.579857, -0.000256419, -0.315, 0.819904, 0.421365, -0.350027, -0.421621, -0.000256419, -0.350027, -0.596014, -0.421621, -0.350027, -0.421621, 0.421365, -0.350027, 0.421365, 0.595758, -0.350027, -0.000256419, -0.596014, -0.350027, -0.000256419, -0.421621, -0.350027, 0.421365, -0.000256419, -0.350027, 0.595758, 0.31878, -0.385055, -0.000256419, 0.225429, -0.385055, -0.225685, -0.000256419, -0.385055, -0.319037, -0.225685, -0.385055, -0.225685, -0.319037, -0.385055, -0.000256419, 0.225429, -0.385055, 0.225429, -0.000256419, -0.385055, 0.31878, -0.225685, -0.385055, 0.225429, -0.000256419, -0.42, -0.000256419)

[sub_resource type="ConvexPolygonShape3D" id="ConvexPolygonShape3D_acslb"]
points = PackedVector3Array(2.29, 0.425, 0.494, -0.323, -1.024, -0.132, 0.083, 0.24, 2.65, 0.472, 0.365, -2.308, 0.61, -0.56, -2.213, 1.53, -0.54, 1.721, -1.549, 0.44, 2.054, -1.371, -0.459, -1.744, -0.162, -0.58, 2.124, -1.574, -0.448, 0.115, 1.582, -0.409, -1.381, -1.541, 0.437, -1.202, 1.456, 0.427, -1.716, 0.643, -0.863, -0.857, 1.758, 0.426, 1.407, 1.557, -0.143, -1.983, 0.885, -0.701, 1.963, -1.774, 0.064, 1.318, -1.758, -0.451, -0.73, -2.011, 0.439, 1.12, -0.151, 0.442, 2.526, 2.318, 0.435, 0.19, -0.069, 0.237, -2.253, -0.581, -0.482, 1.969, 0.313, 0.199, 2.637, -1.939, 0.415, -0.559, -0.404, -1.024, -0.051, 0.468, 0.435, -2.199, 0.625, -0.491, -2.291, 2.087, 0.242, -0.734, -1.29, -0.459, -1.824, -1.992, 0.087, 0.037)

[node name="IceBoard" type="RigidBody3D"]
collision_layer = 13
mass = 30.0
physics_material_override = SubResource("PhysicsMaterial_08nup")
script = ExtResource("1_77tb6")

[node name="IceChunk" parent="." instance=ExtResource("1_cunu2")]
transform = Transform3D(0.6, 0, 0, 0, 0.3, 0, 0, 0, 0.6, 0, 0, 0)

[node name="Cube" type="MeshInstance3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.15, 0)
visible = false
mesh = SubResource("TubeTrailMesh_v0mf2")
skeleton = NodePath("")

[node name="CollisionShape3D2" type="CollisionShape3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.15, 0)
shape = SubResource("ConvexPolygonShape3D_rwsrj")

[node name="CollisionShape3D" type="CollisionShape3D" parent="."]
transform = Transform3D(0.6, 0, 0, 0, 0.6, 0, 0, 0, 0.6, 0, 0, 0)
visible = false
shape = SubResource("ConvexPolygonShape3D_acslb")
disabled = true

[node name="Floating" type="Node3D" parent="."]
script = ExtResource("3_aialk")
force = 2.0

[node name="Front" type="RayCast3D" parent="Floating"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -1.19742)
target_position = Vector3(0, 0, 0)
collision_mask = 4
hit_from_inside = true
collide_with_areas = true
collide_with_bodies = false

[node name="Back" type="RayCast3D" parent="Floating"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 1.25082)
target_position = Vector3(0, 0, 0)
collision_mask = 4
hit_from_inside = true
collide_with_areas = true
collide_with_bodies = false

[node name="Right" type="RayCast3D" parent="Floating"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.368, 0, 0)
target_position = Vector3(0, 0, 0)
collision_mask = 4
hit_from_inside = true
collide_with_areas = true
collide_with_bodies = false

[node name="Left" type="RayCast3D" parent="Floating"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1.19793, 0, 0)
target_position = Vector3(0, 0, 0)
collision_mask = 4
hit_from_inside = true
collide_with_areas = true
collide_with_bodies = false

[node name="Bottom" type="RayCast3D" parent="Floating"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.544632, 0)
target_position = Vector3(0, 0, 0)
collision_mask = 4
hit_from_inside = true
collide_with_areas = true
collide_with_bodies = false

[node name="Up" type="RayCast3D" parent="Floating"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.254161, 0)
target_position = Vector3(0, 0, 0)
collision_mask = 4
hit_from_inside = true
collide_with_areas = true
collide_with_bodies = false

[editable path="IceChunk"]
