[gd_scene load_steps=22 format=3 uid="uid://1pquvc1kh8gs"]

[ext_resource type="PackedScene" uid="uid://c1jhycygcexin" path="res://Models/Maps/TempMushroomForestTerrain.blend" id="1_7yxs3"]
[ext_resource type="Script" path="res://Scripts/Tools/NavigationRegionTool.gd" id="1_j23ne"]
[ext_resource type="PackedScene" uid="uid://c1nmhavvp6eip" path="res://Scenes/Player/Player.tscn" id="3_rsw63"]
[ext_resource type="PackedScene" uid="uid://chqdq618co11f" path="res://Scenes/AI/AIWonderArea.tscn" id="4_5p6q0"]
[ext_resource type="PackedScene" uid="uid://cbdr05wj7j8ac" path="res://Scenes/UI/GameUI.tscn" id="4_bbp1r"]
[ext_resource type="PackedScene" uid="uid://b328usnnpi7qr" path="res://Scenes/Characters/CrabEnemy.tscn" id="5_1ge4n"]
[ext_resource type="PackedScene" uid="uid://ca5cjrn3xfkwu" path="res://Scenes/Environment/InteractiveLevelElements/RopeBridge.tscn" id="5_5yvg4"]
[ext_resource type="PackedScene" uid="uid://cck3ra480nuxt" path="res://Scenes/Environment/Common/LevelTransitionArea.tscn" id="6_wiwrj"]
[ext_resource type="PackedScene" uid="uid://ddkpf3ldhhj1t" path="res://Scenes/Environment/Collectables/RuneCollectable.tscn" id="7_rng7y"]
[ext_resource type="Resource" uid="uid://gtkgqi172xef" path="res://CustomResources/Runes/Blue/IceRune.tres" id="8_4dx02"]
[ext_resource type="Resource" uid="uid://b5rf4kuktg21q" path="res://CustomResources/Runes/Red/BenefitRune.tres" id="9_xd86k"]
[ext_resource type="Resource" uid="uid://ytqt7t0ak1ok" path="res://CustomResources/Runes/Yellow/SelfRune.tres" id="10_6w6g6"]
[ext_resource type="Resource" uid="uid://da8bwlukglmcu" path="res://CustomResources/Runes/Blue/ConditionRune.tres" id="11_m48d0"]
[ext_resource type="PackedScene" uid="uid://di6pq5w7m0qj5" path="res://Scenes/Environment/Common/Water.tscn" id="13_xl28e"]
[ext_resource type="PackedScene" uid="uid://c86xq4dpkuan4" path="res://Scenes/Environment/MushroomForest/BounceMushroom.tscn" id="14_enmni"]
[ext_resource type="PackedScene" uid="uid://dkbtip8iwehfa" path="res://Scenes/Environment/MushroomForest/PoisonMushroom.tscn" id="15_ydb8s"]

[sub_resource type="PhysicalSkyMaterial" id="PhysicalSkyMaterial_g56d8"]
rayleigh_color = Color(0.611765, 0.192157, 0.631373, 1)
ground_color = Color(0.0823529, 0.172549, 0.133333, 1)

[sub_resource type="Sky" id="Sky_okwxh"]
sky_material = SubResource("PhysicalSkyMaterial_g56d8")

[sub_resource type="Environment" id="Environment_y3vnl"]
background_mode = 2
sky = SubResource("Sky_okwxh")
glow_enabled = true
fog_enabled = true
fog_light_color = Color(0.658824, 0.447059, 0.776471, 1)
fog_light_energy = 1.48
fog_sun_scatter = 0.34
fog_density = 0.005

[sub_resource type="NavigationMesh" id="NavigationMesh_oljkd"]
vertices = PackedVector3Array(39.5, 4.25, 8, 39.5, 3.5, 0.5, 29.75, 6, 0.5, 10.25, 8.25, 0.5, 0.5, 7.75, 0.5, 0.5, 7.75, 8, 0.5, 8, 23, 0.5, 7.5, 30.75, 10.25, 8.5, 30.75, 4.67857, 8.25, 30.75, 29.75, 5.75, 30.75, 39.5, 2.75, 30.75, 39.5, 4, 23, 39.5, 4.5, 15.5, 39.5, 4.25, 8, 29.75, 6, 0.5, 10.25, 8.25, 0.5, 0.5, 7.75, 8, 0.5, 8, 15.5, 20, 7.75, 0.5, 15.8214, 8.25, 0.5, 14.2647, 8.5, 4.91176, 0.5, 8, 15.5, 0.5, 8, 23, 10.25, 8.5, 30.75, 7.25, 8.75, 26.0577, 29.75, 5.75, 30.75, 39.5, 4, 23, 39.5, 4.5, 15.5, 20, 8, 30.75, 25.7353, 7.5, 26.2647, 31.5103, 6, 27.0057, 39.5, 4.5, 15.5, 29.75, 6, 0.5, 20, 7.75, 0.5, 0.5, 8, 15.5, 10.25, 8.5, 30.75, 20, 8, 30.75, 25.7353, 7.5, 26.2647, 14.2647, 8.5, 4.91176, 7.25, 8.75, 26.0577, 14.4286, 8.75, 30.75, 13.5226, 9, 21.0092, 22.5057, 8, 9.01225, 10.5169, 9, 16.517, 30.0154, 6.5, 5.99856, 16.5109, 8.75, 10.5051, 17.9777, 8.75, 20.9922, 2.9918, 8, 16.5121, 7.51601, 8.5, 11.9979)
polygons = [PackedInt32Array(2, 1, 0), PackedInt32Array(5, 4, 3), PackedInt32Array(7, 6, 9), PackedInt32Array(9, 6, 8), PackedInt32Array(12, 11, 10), PackedInt32Array(15, 14, 13), PackedInt32Array(19, 21, 20), PackedInt32Array(20, 21, 16), PackedInt32Array(16, 21, 17), PackedInt32Array(17, 21, 18), PackedInt32Array(24, 23, 25), PackedInt32Array(25, 23, 22), PackedInt32Array(30, 26, 29), PackedInt32Array(26, 31, 27), PackedInt32Array(27, 31, 28), PackedInt32Array(28, 31, 30), PackedInt32Array(30, 31, 26), PackedInt32Array(41, 47, 37), PackedInt32Array(37, 47, 38), PackedInt32Array(38, 43, 32), PackedInt32Array(32, 45, 33), PackedInt32Array(33, 45, 34), PackedInt32Array(34, 43, 39), PackedInt32Array(39, 49, 35), PackedInt32Array(35, 48, 40), PackedInt32Array(40, 41, 36), PackedInt32Array(41, 42, 47), PackedInt32Array(47, 43, 38), PackedInt32Array(43, 45, 32), PackedInt32Array(45, 43, 34), PackedInt32Array(43, 46, 39), PackedInt32Array(49, 48, 35), PackedInt32Array(39, 46, 49), PackedInt32Array(48, 44, 40), PackedInt32Array(40, 42, 41), PackedInt32Array(42, 44, 47), PackedInt32Array(47, 46, 43), PackedInt32Array(49, 44, 48), PackedInt32Array(46, 44, 49), PackedInt32Array(44, 42, 40), PackedInt32Array(44, 46, 47)]
geometry_parsed_geometry_type = 1
geometry_source_geometry_mode = 1
filter_baking_aabb = AABB(0, 0, 0, 40, 14.14, 31.22)

[sub_resource type="NavigationMesh" id="NavigationMesh_7tfpk"]
vertices = PackedVector3Array(18.75, 5.5, 2.75, 18.5, 4.75, 1, 17.25, 5.5, 0.5, 20, 6.5, 9.75, 20, 5.25, 3, 18.75, 5.5, 2.75, 19.5, 6.5, 6.95, 20, 5.75, 4.35, 20, 6.5, 9.75, 18.75, 5.5, 2.75, 17.25, 5.5, 0.5, 8.75, 8.25, 0.5, 19.5, 6.5, 6.95, 15.8333, 6.25, 0.5, 11.5833, 7.75, 0.5, 8.75, 8.25, 0.5, 0.5, 6.75, 0.5, 0.5, 7.75, 8, 3.59375, 8.25, 5.1875, 3.25, 8, 0.5, 0.5, 7.5, 3, 10.25, 8.5, 30.75, 20, 7.25, 30.75, 20, 6, 23.75, 14.5833, 7.75, 27.6389, 14.4286, 8.25, 30.75, 0.5, 8.5, 23, 0.5, 8.5, 30.75, 10.25, 8.5, 30.75, 0.5, 8.25, 15.5, 0.5, 8.5, 23, 10.25, 8.5, 30.75, 20, 5.75, 16.75, 20, 6.5, 9.75, 8.75, 8.25, 0.5, 20, 6.5, 12.55, 12.0107, 7.5, 14.9952, 10.5213, 7.5, 21.0006, 6.01625, 8.25, 21.0177, 9.01013, 8.25, 7.49586, 10.25, 8.5, 30.75, 20, 6, 23.75, 20, 5.75, 16.75, 14.5833, 7.75, 27.6389, 20, 5.5, 20.95, 16.51, 6.75, 23.986, 8.75, 8.25, 0.5, 0.5, 7.75, 8, 0.5, 8.25, 15.5, 3.59375, 8.25, 5.1875)
polygons = [PackedInt32Array(2, 1, 0), PackedInt32Array(4, 7, 5), PackedInt32Array(5, 7, 6), PackedInt32Array(6, 7, 3), PackedInt32Array(10, 9, 13), PackedInt32Array(13, 9, 12), PackedInt32Array(13, 12, 8), PackedInt32Array(13, 8, 14), PackedInt32Array(14, 8, 11), PackedInt32Array(16, 19, 20), PackedInt32Array(20, 19, 17), PackedInt32Array(17, 19, 18), PackedInt32Array(18, 19, 15), PackedInt32Array(21, 24, 25), PackedInt32Array(25, 24, 22), PackedInt32Array(22, 24, 23), PackedInt32Array(28, 27, 26), PackedInt32Array(33, 39, 34), PackedInt32Array(34, 39, 29), PackedInt32Array(29, 38, 30), PackedInt32Array(30, 38, 31), PackedInt32Array(31, 37, 32), PackedInt32Array(32, 36, 35), PackedInt32Array(35, 36, 33), PackedInt32Array(33, 36, 39), PackedInt32Array(39, 36, 29), PackedInt32Array(29, 36, 38), PackedInt32Array(38, 37, 31), PackedInt32Array(37, 36, 32), PackedInt32Array(36, 37, 38), PackedInt32Array(44, 45, 42), PackedInt32Array(42, 45, 40), PackedInt32Array(40, 45, 43), PackedInt32Array(43, 45, 41), PackedInt32Array(41, 45, 44), PackedInt32Array(47, 49, 48), PackedInt32Array(48, 49, 46)]
geometry_parsed_geometry_type = 1
geometry_source_geometry_mode = 1
filter_baking_aabb = AABB(0, 0, 0, 20.455, 14.14, 31.22)

[node name="MushroomForest" type="Node3D"]

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 0.645924, 0.763402, 0, -0.763402, 0.645924, 0, 0, 0)
shadow_enabled = true

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_y3vnl")

[node name="Map" type="Node3D" parent="."]

[node name="NavigationRegion3D_1" type="NavigationRegion3D" parent="Map"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 3.60197, 23.4738, 36.9472)
navigation_mesh = SubResource("NavigationMesh_oljkd")
script = ExtResource("1_j23ne")

[node name="NavigationRegion3D_2" type="NavigationRegion3D" parent="Map"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 9.7653, 22.9832, 6.75395)
navigation_mesh = SubResource("NavigationMesh_7tfpk")
script = ExtResource("1_j23ne")

[node name="TempMushroomForestTerrain" parent="Map" groups=["navigation_mesh_source_group"] instance=ExtResource("1_7yxs3")]

[node name="StaticBody3D" parent="Map/TempMushroomForestTerrain/Terrain" index="0"]
collision_layer = 3
collision_mask = 3

[node name="RopeBridge" parent="Map" instance=ExtResource("5_5yvg4")]
transform = Transform3D(0.995577, 0.014822, -0.0927754, 0, 0.987477, 0.157762, 0.0939519, -0.157064, 0.983109, 20.088, 25.9702, -7.71088)

[node name="AIWonderArea" parent="Map" instance=ExtResource("4_5p6q0")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 18.4259, 32.0112, 50.0627)

[node name="LevelTransitionArea" parent="Map" instance=ExtResource("6_wiwrj")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 26.4849, 23.2308, -72.7557)

[node name="Enemies" type="Node3D" parent="Map"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 19.3092, 31.8929, 46.0744)

[node name="CrabEnemy" parent="Map/Enemies" node_paths=PackedStringArray("ai_wander_area") instance=ExtResource("5_1ge4n")]
ai_wander_area = NodePath("../../AIWonderArea")

[node name="CrabEnemy2" parent="Map/Enemies" node_paths=PackedStringArray("ai_wander_area") instance=ExtResource("5_1ge4n")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 17.3776, -2.96888, 13.6684)
ai_wander_area = NodePath("../../AIWonderArea")

[node name="CrabEnemy3" parent="Map/Enemies" node_paths=PackedStringArray("ai_wander_area") instance=ExtResource("5_1ge4n")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 17.3776, -2.96888, 4.11104)
ai_wander_area = NodePath("../../AIWonderArea")

[node name="CrabEnemy4" parent="Map/Enemies" node_paths=PackedStringArray("ai_wander_area") instance=ExtResource("5_1ge4n")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 5.11632, 0.578514, 11.6642)
ai_wander_area = NodePath("../../AIWonderArea")

[node name="Runes" type="Node3D" parent="Map"]

[node name="RuneCollectable" parent="Map/Runes" instance=ExtResource("7_rng7y")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 17.8777, 27.4623, -26.0975)
rune = ExtResource("8_4dx02")

[node name="RuneCollectable2" parent="Map/Runes" instance=ExtResource("7_rng7y")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 15.1404, 27.4623, -28.0318)
rune = ExtResource("9_xd86k")

[node name="RuneCollectable3" parent="Map/Runes" instance=ExtResource("7_rng7y")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 12.35, 27.278, -30.6791)
rune = ExtResource("10_6w6g6")

[node name="RuneCollectable4" parent="Map/Runes" instance=ExtResource("7_rng7y")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 25.1165, 27.4623, -26.0975)
rune = ExtResource("11_m48d0")

[node name="RuneCollectable5" parent="Map/Runes" instance=ExtResource("7_rng7y")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 27.6651, 27.022, -28.0318)
rune = ExtResource("9_xd86k")

[node name="BounceMushroom" parent="Map" instance=ExtResource("14_enmni")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 23.4865, 23.1691, -49.4629)

[node name="Water" parent="Map" instance=ExtResource("13_xl28e")]
transform = Transform3D(10, 0, 0, 0, 10, 0, 0, 0, 10, 0, 20.7, 0)

[node name="Player" parent="." instance=ExtResource("3_rsw63")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 25.3379, 24.8174, -60.2499)

[node name="GameUI" parent="." instance=ExtResource("4_bbp1r")]

[node name="PoisonMushroom" parent="." instance=ExtResource("15_ydb8s")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 36.2482, 22.9376, -41.4937)

[editable path="Map/TempMushroomForestTerrain"]
